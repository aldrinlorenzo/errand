<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <title>Service Provider Dashboard</title>
</head>

<body class="d-flex flex-column h-100" xmlns:th="http://www.w3.org/1999/xhtml">

<div layout:fragment="profile-name">
    <span class="mr-2 d-none d-lg-inline text-gray-600 small"
          th:text="${serviceProvider.firstName + ' ' + serviceProvider.lastName + ' (ServiceProvider)'}"></span>
</div>


<!-- Sidebar Navigation -->
<section layout:fragment="sidebar-item" class="py-2">
  <hr class="sidebar-divider my-0">
  <li class="nav-item active">
    <a class="nav-link" th:href="@{/serviceProvider/dashboard}">

      <i class="fas fa-fw fa-tachometer-alt"></i>
      <span>Dashboard</span>
    </a>
  </li>
  <hr class="sidebar-divider">
  <div class="sidebar-heading">
    Tasks
  </div>
  <li class="nav-item">
    <a class="nav-link" th:href="@{/serviceProvider/task}">
      <i class="fas fa-fw fa-briefcase"></i>
      <span>New Request</span>
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" th:href="@{/serviceProvider/task}">
      <i class="fas fa-fw fa-briefcase"></i>
      <span>Task List</span>
    </a>
  </li>
</section>

<!-- Page Content-->
<section layout:fragment="body" class="py-5">
    <div class="container-fluid">

      <div class="card shadow mb-4">

        <div class="card-header py-3">
          <h6 class="m-0 font-weight-bold text-primary">Available Tasks</h6>
        </div>
        <br>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">

              <thead>
              <tr>
                <th>Task ID</th>
                <th>Title</th>
                <th>Description</th>
                <th>Budget</th>
                <th>Created Date</th>
                <th>Target Date</th>
                <th>Location</th>
                <th>Action</th>
              </tr>
              </thead>

              <tbody th:each="pendingTask :${pendingTaskDtoList}">
              <tr>
                <td th:text="${pendingTask .id}"></td>
                <td th:text="${pendingTask .title}"></td>
                <td th:text="${pendingTask .description}"></td>
                <td th:text="${pendingTask .budget}"></td>
                <td th:text="${pendingTask .createdDate}"></td>
                <td th:text="${pendingTask .targetDate}"></td>
                <td th:text="${pendingTask.street+', '+pendingTask.city+', '+pendingTask.postalCode}"></td>
                <td style="text-align: center; white-space: nowrap;">
                  <a th:href="@{/serviceProvider/task/{taskId}/offer(taskId=${pendingTask.id})}"
                     title="View Offers"
                     class="btn btn-info btn-circle btn-sm">
                    <i class="fas fa-handshake"></i>
                  </a>

                </td>
              </tr>
              </tbody>

            </table>
          </div>
        </div>

      </div>

    </div>
</section>


</body>
</html>
